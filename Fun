local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

local Fun = {}
local NotificationsUI = Instance.new("ScreenGui")
NotificationsUI.Name = "NotificationsUI"
NotificationsUI.ResetOnSpawn = false
NotificationsUI.Parent = CoreGui

local Container = Instance.new("Frame")
Container.Name = "Container"
Container.Parent = NotificationsUI
Container.BackgroundTransparency = 1
Container.Size = UDim2.new(0, 260, 1, -40)
Container.Position = UDim2.new(1, -270, 0, 20)

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = Container
UIListLayout.Padding = UDim.new(0, 6)
UIListLayout.FillDirection = Enum.FillDirection.Vertical
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

local Icons = {
    Success = "rbxassetid://12900311398",
    Warning = "rbxassetid://85147473315465",
    Error   = "rbxassetid://11537790652",
    Info    = "rbxassetid://92726475245140"
}

function Notification:Notify(Properties)
    local Type = Properties.Type or "Info"
    local Message = Properties.Message or "Notification"
    local Duration = Properties.Duration or 3

    local NotifyFrame = Instance.new("Frame")
    NotifyFrame.Size = UDim2.new(1, 0, 0, 60)
    NotifyFrame.BackgroundTransparency = 0
    NotifyFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    NotifyFrame.BorderSizePixel = 0
    NotifyFrame.Parent = Container

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = NotifyFrame

    local Icon = Instance.new("ImageLabel")
    Icon.Size = UDim2.new(0, 32, 0, 32)
    Icon.Position = UDim2.new(0, 10, 0.5, -16)
    Icon.BackgroundTransparency = 1
    Icon.Image = Icons[Type] or Icons.Info
    Icon.Parent = NotifyFrame

    local Text = Instance.new("TextLabel")
    Text.Size = UDim2.new(1, -55, 1, -10)
    Text.Position = UDim2.new(0, 50, 0, 5)
    Text.BackgroundTransparency = 1
    Text.TextColor3 = Color3.fromRGB(255, 255, 255)
    Text.Text = Message
    Text.Font = Enum.Font.GothamMedium
    Text.TextScaled = true
    Text.TextXAlignment = Enum.TextXAlignment.Left
    Text.Parent = NotifyFrame

    NotifyFrame.BackgroundTransparency = 1
    TweenService:Create(NotifyFrame, TweenInfo.new(0.25), {BackgroundTransparency = 0}):Play()

    task.delay(Duration, function()
        TweenService:Create(NotifyFrame, TweenInfo.new(0.25), {BackgroundTransparency = 1}):Play()
        task.wait(0.3)
        NotifyFrame:Destroy()
    end)
end

return Fun
